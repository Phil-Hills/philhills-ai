<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyAIChatbots // NEURAL_LINK_ESTABLISHED</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "three": "https://esm.sh/three@0.160.0",
            "@react-three/fiber": "https://esm.sh/@react-three/fiber@8.15.14?external=react,react-dom,three",
            "@react-three/drei": "https://esm.sh/@react-three/drei@9.96.1?external=react,react-dom,three,@react-three/fiber",
            "lucide-react": "https://esm.sh/lucide-react@0.309.0?external=react,react-dom",
            "framer-motion": "https://esm.sh/framer-motion@10.16.16?external=react,react-dom"
        }
    }
    </script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #000;
            color: white;
            font-family: 'Courier New', monospace;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 40px rgba(0, 255, 157, 0.1);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="module">
        import React, { useState, useRef, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { Canvas, useFrame } from '@react-three/fiber';
        import { OrbitControls, Sphere, MeshDistortMaterial, Stars, Float, Text } from '@react-three/drei';
        import { Send, Zap, Cpu } from 'lucide-react';

        // --- 3D Components ---

        const NeuralCore = ({ active }) => {
            const mesh = useRef();

            useFrame((state) => {
                const t = state.clock.getElapsedTime();
                if (mesh.current) {
                    mesh.current.rotation.x = t * 0.2;
                    mesh.current.rotation.y = t * 0.3;
                    // Pulse effect based on activity
                    const scale = active ? 1.2 + Math.sin(t * 10) * 0.05 : 1 + Math.sin(t) * 0.1;
                    mesh.current.scale.set(scale, scale, scale);
                }
            });

            return React.createElement(Float, { speed: 2, rotationIntensity: 1, floatIntensity: 2 },
                React.createElement(Sphere, { args: [1, 64, 64], ref: mesh },
                    React.createElement(MeshDistortMaterial, {
                        color: active ? "#00ff9d" : "#4a4a4a",
                        attach: "material",
                        distort: 0.6,
                        speed: 1.5,
                        roughness: 0,
                        metalness: 0.8,
                        wireframe: false
                    })
                )
            );
        };

        const DataParticles = () => {
            // Simple stars as particles for now
            return React.createElement(Stars, { radius: 100, depth: 50, count: 5000, factor: 4, saturation: 0, fade: true, speed: 1 });
        }

        // --- UI Components ---

        const ChatInterface = ({ onActivate }) => {
            const [messages, setMessages] = useState([
                { id: 1, role: 'system', text: 'INITIALIZING NEURAL LINK...' },
                { id: 2, role: 'ai', text: 'Welcome to EasyAIChatbots. I am Henry, your Architect. How may I accelerate your reality today?' }
            ]);
            const [input, setInput] = useState('');
            const endRef = useRef(null);

            useEffect(() => {
                endRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages]);

            const sendMessage = (e) => {
                e.preventDefault();
                if (!input.trim()) return;

                const newMsg = { id: Date.now(), role: 'user', text: input };
                setMessages([...messages, newMsg]);
                setInput('');
                onActivate(true);

                // Simulate AI response
                setTimeout(() => {
                    setMessages(prev => [...prev, {
                        id: Date.now() + 1,
                        role: 'ai',
                        text: `Processing query: "${input}" // ACCESSING Q-PROTOCOL VECTOR MATRIX...`
                    }]);
                    onActivate(false);
                }, 1500);
            };

            return React.createElement('div', { className: "absolute bottom-10 left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4" },
                // Chat Window
                React.createElement('div', { className: "glass-panel rounded-xl p-6 mb-4 max-h-[60vh] overflow-y-auto flex flex-col gap-4" },
                    messages.map((msg) =>
                        React.createElement('div', { key: msg.id, className: `flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}` },
                            React.createElement('div', { className: `max-w-[80%] p-3 rounded-lg text-sm ${msg.role === 'user' ? 'bg-[#00ff9d] text-black font-bold' : 'bg-white/10 text-gray-200'}` },
                                msg.role === 'ai' && React.createElement('div', { className: "text-[#00ff9d] text-[10px] mb-1 font-bold" }, "HENRY // ARCHITECT"),
                                msg.text
                            )
                        )
                    ),
                    React.createElement('div', { ref: endRef })
                ),

                // Input Area
                React.createElement('form', { onSubmit: sendMessage, className: "relative group" },
                    React.createElement('div', { className: "absolute inset-0 bg-gradient-to-r from-[#00ff9d] to-blue-500 rounded-lg opacity-20 group-hover:opacity-40 transition blur" }),
                    React.createElement('input', {
                        type: "text",
                        value: input,
                        onChange: (e) => setInput(e.target.value),
                        placeholder: "Enter command sequence...",
                        className: "w-full bg-black/80 border border-white/20 rounded-lg p-4 pl-6 text-[#00ff9d] focus:outline-none focus:border-[#00ff9d] relative z-10 font-mono tracking-wider"
                    }),
                    React.createElement('button', { type: "submit", className: "absolute right-2 top-2 p-2 bg-[#00ff9d] text-black rounded-md hover:bg-white transition z-20" },
                        React.createElement(Send, { size: 20 })
                    )
                )
            );
        };

        const Header = () => {
            return React.createElement('div', { className: "absolute top-8 left-8 z-10" },
                React.createElement('h1', { className: "text-4xl font-bold tracking-tighter text-white flex items-center gap-3" },
                    React.createElement(Cpu, { className: "text-[#00ff9d]", size: 40 }),
                    "EasyAIChatbots"
                ),
                React.createElement('div', { className: "text-[#00ff9d] text-sm tracking-[0.5em] mt-2 opacity-80" }, "QUANTUM // ENTANGLED")
            );
        }

        // --- Main App ---

        const App = () => {
            const [coreActive, setCoreActive] = useState(false);

            return React.createElement(React.Fragment, null,
                React.createElement(Header),

                // 3D Background
                React.createElement('div', { className: "absolute inset-0 z-0 bg-gradient-to-b from-[#050510] to-[#000]" },
                    React.createElement(Canvas, { camera: { position: [0, 0, 5], fov: 45 } },
                        React.createElement('ambientLight', { intensity: 0.5 }),
                        React.createElement('pointLight', { position: [10, 10, 10], color: "#00ff9d", intensity: 2 }),
                        React.createElement('pointLight', { position: [-10, -5, -10], color: "#0000ff", intensity: 1 }),

                        React.createElement(NeuralCore, { active: coreActive }),
                        React.createElement(DataParticles),

                        // Post-processing could go here
                        React.createElement(OrbitControls, { enableZoom: false, autoRotate: true, autoRotateSpeed: 0.5 })
                    )
                ),

                // Overlay UI
                React.createElement(ChatInterface, { onActivate: setCoreActive })
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>

</html>